<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–∞–ø—Ç–∏—Ä—É–π! - –ò–ò –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —É—á–∏—Ç–µ–ª—è</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --ai-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero-section {
            background: var(--primary-gradient);
            color: white;
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .ai-badge {
            background: var(--ai-gradient);
            color: white;
            padding: 0.25rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .adaptation-card {
            border: none;
            border-radius: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            height: 100%;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .adaptation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .adaptation-card.selected {
            border: 3px solid #43e97b;
            background: rgba(67, 233, 123, 0.05);
        }
        
        .adaptation-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }
        
        .result-card {
            border-left: 5px solid #43e97b;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .btn-ai {
            background: var(--ai-gradient);
            border: none;
            padding: 0.8rem 2rem;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s ease;
            color: white;
        }
        
        .btn-ai:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 233, 123, 0.4);
            color: white;
        }
        
        textarea {
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            padding: 1rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        textarea:focus {
            border-color: #43e97b;
            box-shadow: 0 0 0 3px rgba(67, 233, 123, 0.1);
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .spinner {
            display: inline-block;
            width: 1rem;
            height: 1rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .ai-thinking {
            font-size: 0.9rem;
            color: #666;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
        .full-text-display {
            max-height: 500px;
            overflow-y: auto;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            font-size: 1rem;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .text-container {
            max-height: none !important;
            overflow: visible !important;
        }
        
        .scrollable-text {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .scrollable-text::-webkit-scrollbar {
            width: 8px;
        }
        
        .scrollable-text::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .scrollable-text::-webkit-scrollbar-thumb {
            background: #43e97b;
            border-radius: 4px;
        }
        
        .text-stats {
            font-size: 0.85rem;
            color: #666;
            margin-top: 10px;
            padding: 5px 10px;
            background: #f8f9fa;
            border-radius: 5px;
            display: inline-block;
        }
        
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10;
        }
        
        .example-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .example-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <!-- –°–∫—Ä—ã—Ç—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API -->
    <div id="aiProcessor" class="hidden-api"></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="bi bi-magic me-2"></i>–ê–¥–∞–ø—Ç–∏—Ä—É–π!
                <small class="d-block d-md-inline text-muted fs-6">–ò–ò –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —É—á–∏—Ç–µ–ª—è</small>
            </a>
            <div class="d-flex align-items-center">
                <span class="ai-badge">
                    <i class="bi bi-cpu me-1"></i>–ò–ò –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
                </span>
            </div>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container py-4">
        <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
        <div class="hero-section">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-5 fw-bold mb-3">–£–º–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</h1>
                    <p class="lead mb-4">
                        –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ 
                        –¥–ª—è —É—á–∞—â–∏—Ö—Å—è —Å —Ä–∞–∑–Ω—ã–º–∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏.
                    </p>
                    <button class="btn btn-light btn-lg px-4" onclick="startAdapting()">
                        <i class="bi bi-play-circle me-2"></i>–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å
                    </button>
                </div>
                <div class="col-lg-6 text-center">
                    <i class="bi bi-robot display-1 opacity-75"></i>
                    <div class="mt-3">
                        <span class="badge bg-light text-dark">–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç</span>
                        <span class="badge bg-light text-dark ms-2">–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ -->
        <div class="card p-4 mb-5 shadow" id="adaptForm">
            <div class="card-body">
                <h2 class="card-title mb-4 text-center">
                    <i class="bi bi-pencil-square text-primary me-2"></i>
                    –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —É—á–µ–±–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª
                </h2>
                
                <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ -->
                <div class="mb-5">
                    <h4 class="mb-4 text-center">1. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:</h4>
                    <div class="row g-3" id="adaptationTypes"></div>
                </div>

                <!-- –®–∞–≥ 2: –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ -->
                <div class="mb-4">
                    <h4 class="mb-3">2. –í–≤–µ–¥–∏—Ç–µ —É—á–µ–±–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª:</h4>
                    <textarea id="textInput" class="form-control" rows="6" 
                              placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ —Ç–µ–∫—Å—Ç –∏–∑ —É—á–µ–±–Ω–∏–∫–∞, –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏–ª–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–µ–º—ã...
                              
–ü—Ä–∏–º–µ—Ä: '–ê–ª–≥–æ—Ä–∏—Ç–º ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –±—ã–≤–∞—é—Ç –ª–∏–Ω–µ–π–Ω—ã–µ, —Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–Ω—ã–µ –∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ.'"></textarea>
                    <div class="form-text mt-2">
                        <i class="bi bi-info-circle"></i> –í–µ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
                    </div>
                </div>

                <!-- –®–∞–≥ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div class="row mb-4">
                    <div class="col-md-6 mb-3">
                        <label class="form-label fw-bold">–ö–ª–∞—Å—Å:</label>
                        <select id="gradeLevel" class="form-select">
                            <option value="1-4">1-4 –∫–ª–∞—Å—Å</option>
                            <option value="5-6" selected>5-6 –∫–ª–∞—Å—Å</option>
                            <option value="7-9">7-9 –∫–ª–∞—Å—Å</option>
                            <option value="10-11">10-11 –∫–ª–∞—Å—Å</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label fw-bold">–ü—Ä–µ–¥–º–µ—Ç:</label>
                        <select id="subject" class="form-select">
                            <option value="–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞" selected>–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</option>
                            <option value="–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
                            <option value="—Ñ–∏–∑–∏–∫–∞">–§–∏–∑–∏–∫–∞</option>
                            <option value="—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫">–†—É—Å—Å–∫–∏–π —è–∑—ã–∫</option>
                            <option value="–∏—Å—Ç–æ—Ä–∏—è">–ò—Å—Ç–æ—Ä–∏—è</option>
                            <option value="–±–∏–æ–ª–æ–≥–∏—è">–ë–∏–æ–ª–æ–≥–∏—è</option>
                        </select>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ -->
                <div class="text-center">
                    <button id="adaptButton" class="btn btn-ai btn-lg px-5" onclick="adaptWithAI()">
                        <i class="bi bi-robot me-2"></i>
                        <span id="buttonText">–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª</span>
                    </button>
                    <div id="adaptError" class="text-danger mt-2" style="display: none;">
                        <i class="bi bi-exclamation-triangle"></i> <span id="errorMessage"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
        <div id="resultSection" class="mb-5" style="display: none;">
            <h2 class="mb-4 text-center">
                <i class="bi bi-check-circle text-success me-2"></i>
                –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
                <span class="badge bg-primary ms-2" id="resultTypeBadge"></span>
                <small class="ai-badge ms-2">–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—Ç –ò–ò</small>
            </h2>
            
            <div class="row mb-4">
                <!-- –û—Ä–∏–≥–∏–Ω–∞–ª -->
                <div class="col-md-6 mb-4">
                    <div class="card h-100 result-card position-relative">
                        <div class="card-header bg-light d-flex justify-content-between align-items-center">
                            <h5 class="mb-0">
                                <i class="bi bi-file-text me-2"></i>
                                –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
                            </h5>
                            <span class="text-stats" id="originalStats"></span>
                        </div>
                        <div class="card-body scrollable-text">
                            <div id="originalText" class="full-text-display text-muted"></div>
                        </div>
                        <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyText('originalText')" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª">
                            <i class="bi bi-clipboard"></i>
                        </button>
                    </div>
                </div>
                
                <!-- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π -->
                <div class="col-md-6 mb-4">
                    <div class="card h-100 result-card position-relative">
                        <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                            <h5 class="mb-0">
                                <i class="bi bi-stars me-2"></i>
                                –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
                            </h5>
                            <span class="text-stats bg-light text-dark" id="adaptedStats"></span>
                        </div>
                        <div class="card-body scrollable-text">
                            <div id="adaptedText" class="full-text-display"></div>
                        </div>
                        <button class="btn btn-sm btn-outline-light copy-btn" onclick="copyText('adaptedText')" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π">
                            <i class="bi bi-clipboard"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="text-center mb-4">
                <button class="btn btn-outline-success me-2" onclick="copyText('adaptedText')">
                    <i class="bi bi-clipboard me-2"></i>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
                </button>
                <button class="btn btn-outline-primary me-2" onclick="downloadAsText()">
                    <i class="bi bi-download me-2"></i>–°–∫–∞—á–∞—Ç—å –∫–∞–∫ —Ñ–∞–π–ª
                </button>
                <button class="btn btn-outline-info" onclick="printResult()">
                    <i class="bi bi-printer me-2"></i>–†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å
                </button>
            </div>

            <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É—á–∏—Ç–µ–ª—è -->
            <div class="card result-card">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">
                        <i class="bi bi-lightbulb me-2"></i>
                        –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —É—Ä–æ–∫–µ:
                    </h5>
                </div>
                <div class="card-body">
                    <div id="suggestionsList" class="scrollable-text" style="max-height: 300px;"></div>
                </div>
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—Å—Ç–µ -->
            <div class="mt-3 text-center">
                <small class="text-muted">
                    <i class="bi bi-info-circle me-1"></i>
                    –í–µ—Å—å —Ç–µ–∫—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤.
                </small>
            </div>
        </div>

        <!-- –ü—Ä–∏–º–µ—Ä—ã -->
        <div class="card p-4 shadow">
            <div class="card-body">
                <h2 class="card-title mb-4 text-center">
                    <i class="bi bi-collection-play text-primary me-2"></i>
                    –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã
                </h2>
                
                <p class="text-center mb-4">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ –≤ —Ñ–æ—Ä–º—É –∞–¥–∞–ø—Ç–∞—Ü–∏–∏</p>
                
                <div class="row g-3 mb-4">
                    <div class="col-md-6 col-lg-3">
                        <div class="card h-100 example-card" onclick="loadExample('algorithms')">
                            <div class="card-body text-center">
                                <i class="bi bi-diagram-3 fs-1 text-primary mb-2"></i>
                                <h6>–ê–ª–≥–æ—Ä–∏—Ç–º—ã</h6>
                                <small class="text-muted">–ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–≥–æ—Ä–∏—Ç–º?</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card h-100 example-card" onclick="loadExample('variables')">
                            <div class="card-body text-center">
                                <i class="bi bi-code-slash fs-1 text-primary mb-2"></i>
                                <h6>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</h6>
                                <small class="text-muted">–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card h-100 example-card" onclick="loadExample('binary')">
                            <div class="card-body text-center">
                                <i class="bi bi-file-binary fs-1 text-primary mb-2"></i>
                                <h6>–î–≤–æ–∏—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h6>
                                <small class="text-muted">0 –∏ 1</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card h-100 example-card" onclick="loadExample('internet')">
                            <div class="card-body text-center">
                                <i class="bi bi-globe fs-1 text-primary mb-2"></i>
                                <h6>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç</h6>
                                <small class="text-muted">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –î–ª–∏–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                <div class="card mt-4">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="bi bi-text-paragraph text-primary me-2"></i>
                            –¢–µ—Å—Ç–æ–≤—ã–π –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
                        </h5>
                        <p class="card-text">
                            –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∫–∞–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã:
                        </p>
                        <button class="btn btn-sm btn-outline-primary" onclick="loadLongExample()">
                            –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–ª–∏–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="py-4 mt-5 bg-white border-top">
        <div class="container text-center">
            <p class="mb-0">–ê–¥–∞–ø—Ç–∏—Ä—É–π! ‚Äî –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</p>
            <small class="text-muted">–ü–æ–ª–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤</small>
        </div>
    </footer>

    <!-- –û–≤–µ—Ä–ª–µ–π –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="text-center">
            <div class="spinner" style="width: 3rem; height: 3rem; margin: 0 auto 1.5rem;"></div>
            <h4 class="mb-3">–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç...</h4>
            <p class="text-muted ai-thinking">
                <i class="bi bi-cpu me-1"></i>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
            </p>
            <div class="progress mt-3" style="height: 6px; width: 200px; margin: 0 auto;">
                <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 100%"></div>
            </div>
        </div>
    </div>

    <script>
        // ============ –°–ö–†–´–¢–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø API ============
        const AI_CONFIG = {
            endpoint: 'https://api.openai.com/v1/chat/completions',
            model: 'gpt-4o-mini',
            apiKey: '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',
            maxTokens: 10000, // –£–≤–µ–ª–∏—á–∏–ª–∏ –¥–ª—è –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
            temperature: 0.7
        };
        
        const SAFE_API_KEY = AI_CONFIG.apiKey;
        // ===================================================

        // –î–∞–Ω–Ω—ã–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–π
        const adaptations = {
            simplified: {
                name: "–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç",
                description: "–î–ª—è —É—á–∞—â–∏—Ö—Å—è —Å –¥–∏—Å–ª–µ–∫—Å–∏–µ–π –∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–µ–π —á—Ç–µ–Ω–∏—è",
                icon: "üìù",
                color: "#667eea"
            },
            structured: {
                name: "–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è",
                description: "–î–ª—è —É—á–∞—â–∏—Ö—Å—è —Å –†–ê–° (–ø–æ—à–∞–≥–æ–≤—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã)",
                icon: "üìã",
                color: "#f093fb"
            },
            sign_language: {
                name: "–ö–æ–Ω—Å–ø–µ–∫—Ç –¥–ª—è –∂–µ—Å—Ç–æ–≤–æ–≥–æ —è–∑—ã–∫–∞",
                description: "–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ –†–ñ–Ø",
                icon: "üëê",
                color: "#4facfe"
            },
            visual_impairment: {
                name: "–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –Ω–µ–∑—Ä—è—á–∏—Ö",
                description: "–¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤",
                icon: "üîç",
                color: "#43e97b"
            },
            mild_intellectual: {
                name: "–î–ª—è –ª–µ–≥–∫–∏—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞",
                description: "–£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π",
                icon: "üéØ",
                color: "#fa709a"
            }
        };

        // –ü—Ä–∏–º–µ—Ä—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
        const examples = {
            algorithms: {
                text: "–ê–ª–≥–æ—Ä–∏—Ç–º ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –±—ã–≤–∞—é—Ç –ª–∏–Ω–µ–π–Ω—ã–µ, —Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–Ω—ã–µ –∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ. –õ–∏–Ω–µ–π–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –ø–æ –ø–æ—Ä—è–¥–∫—É, —Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–Ω—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Å–ª–æ–≤–∏—è (–µ—Å–ª–∏-—Ç–æ), –∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.",
                subject: "–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞"
            },
            variables: {
                text: "–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è ‚Äî —ç—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ, –∏–∑–º–µ–Ω—è–µ–º—ã–µ –≤ —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º –∏ –æ—Ç—Ä–∞–∂–∞—Ç—å –µ—ë –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ. –í —è–∑—ã–∫–µ Python –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è: x = 10. –¢–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.",
                subject: "–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞"
            }
        };

        // –î–ª–∏–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        const longExample = `–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –∏—Ö –≤–∏–¥—ã –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏

1. –õ–∏–Ω–µ–π–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
–õ–∏–Ω–µ–π–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º ‚Äî —ç—Ç–æ —Ç–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ–¥–Ω–æ –∑–∞ –¥—Ä—É–≥–∏–º, –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞. –≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –≤–∏–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.

–ü—Ä–∏–º–µ—Ä –ª–∏–Ω–µ–π–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
–ê–ª–≥–æ—Ä–∏—Ç–º "–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –±—É—Ç–µ—Ä–±—Ä–æ–¥–∞":
1. –í–∑—è—Ç—å —Ö–ª–µ–±
2. –ù–∞–º–∞–∑–∞—Ç—å —Ö–ª–µ–± –º–∞—Å–ª–æ–º
3. –ü–æ–ª–æ–∂–∏—Ç—å –Ω–∞ —Ö–ª–µ–± —Å—ã—Ä
4. –°—ä–µ—Å—Ç—å –±—É—Ç–µ—Ä–±—Ä–æ–¥

2. –†–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
–†–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Å–ª–æ–≤–∏–µ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–∞ –∏–ª–∏ –∏–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π. –î–ª—è –∑–∞–ø–∏—Å–∏ —Ç–∞–∫–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ "–µ—Å–ª–∏-—Ç–æ-–∏–Ω–∞—á–µ".

–ü—Ä–∏–º–µ—Ä —Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
–ê–ª–≥–æ—Ä–∏—Ç–º "–ü–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ –¥–æ—Ä–æ–≥—É":
1. –ü–æ–¥–æ–π—Ç–∏ –∫ –ø–µ—à–µ—Ö–æ–¥–Ω–æ–º—É –ø–µ—Ä–µ—Ö–æ–¥—É
2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Å–≤–µ—Ç–æ—Ñ–æ—Ä
3. –ï—Å–ª–∏ –≥–æ—Ä–∏—Ç –∑–µ–ª–µ–Ω—ã–π —Å–≤–µ—Ç:
   3.1. –ü–µ—Ä–µ–π—Ç–∏ –¥–æ—Ä–æ–≥—É
4. –ò–Ω–∞—á–µ:
   4.1. –ñ–¥–∞—Ç—å –∑–µ–ª–µ–Ω–æ–≥–æ —Å–≤–µ—Ç–∞
   4.2. –ö–æ–≥–¥–∞ –∑–∞–≥–æ—Ä–∏—Ç—Å—è –∑–µ–ª–µ–Ω—ã–π ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –¥–æ—Ä–æ–≥—É

3. –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π. –¶–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ.

–ü—Ä–∏–º–µ—Ä —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
–ê–ª–≥–æ—Ä–∏—Ç–º "–ú—ã—Ç—å–µ –ø–æ—Å—É–¥—ã":
1. –í–∑—è—Ç—å –ø–µ—Ä–≤—É—é —Ç–∞—Ä–µ–ª–∫—É –∏–∑ —Å—Ç–æ–ø–∫–∏
2. –ü–æ–∫–∞ –µ—Å—Ç—å –≥—Ä—è–∑–Ω—ã–µ —Ç–∞—Ä–µ–ª–∫–∏:
   2.1. –ü–æ–º—ã—Ç—å —Ç–∞—Ä–µ–ª–∫—É
   2.2. –ü–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–∞—Ä–µ–ª–∫—É –≤ —Å—É—à–∏–ª–∫—É
   2.3. –í–∑—è—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Ç–∞—Ä–µ–ª–∫—É
3. –í—ã—Ç–µ—Ä–µ—Ç—å —Ä—É–∫–∏

–í–∞–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏:
- –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–º–æ–≥–∞—é—Ç —Ä–∞–∑–±–∏—Ç—å —Å–ª–æ–∂–Ω—É—é –∑–∞–¥–∞—á—É –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ —à–∞–≥–∏
- –ü–æ–∑–≤–æ–ª—è—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—É –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –õ–µ–≥–∫–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—é—Ç—Å—è

–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é:
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (–ª–∏–Ω–µ–π–Ω—ã–µ)
- –£—Å–ª–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ if/else (—Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–Ω—ã–µ)
- –¶–∏–∫–ª–æ–≤ for/while (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ)

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
1. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ
2. –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
3. –†–∞—Å—á–µ—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–∞—Ö
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ
5. –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç

–ó–∞–ø–æ–º–Ω–∏—Ç–µ: —Ö–æ—Ä–æ—à–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
‚úì –ü–æ–Ω—è—Ç–Ω—ã–º
‚úì –¢–æ—á–Ω—ã–º
‚úì –ö–æ–Ω–µ—á–Ω—ã–º
‚úì –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º
‚úì –ú–∞—Å—Å–æ–≤—ã–º (—Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)`;

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let selectedAdaptation = 'simplified';

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            renderAdaptationCards();
        });

        // –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–¥–∞–ø—Ç–∞—Ü–∏–π
        function renderAdaptationCards() {
            const container = document.getElementById('adaptationTypes');
            container.innerHTML = '';
            
            for (const [key, adapt] of Object.entries(adaptations)) {
                const card = document.createElement('div');
                card.className = 'col-md-6 col-lg';
                card.innerHTML = `
                    <div class="card adaptation-card p-3 text-center" 
                         onclick="selectAdaptation('${key}')"
                         data-key="${key}"
                         style="border-color: ${adapt.color}">
                        <div class="adaptation-icon">${adapt.icon}</div>
                        <h6 class="fw-bold">${adapt.name}</h6>
                        <small class="text-muted">${adapt.description}</small>
                    </div>
                `;
                container.appendChild(card);
            }
            
            updateSelectedCard();
        }

        // –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
        function selectAdaptation(key) {
            selectedAdaptation = key;
            updateSelectedCard();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
        function updateSelectedCard() {
            document.querySelectorAll('.adaptation-card').forEach(card => {
                const key = card.getAttribute('data-key');
                const adapt = adaptations[key];
                if (key === selectedAdaptation) {
                    card.classList.add('selected');
                    card.style.borderColor = adapt.color;
                    card.style.backgroundColor = adapt.color + '10';
                } else {
                    card.classList.remove('selected');
                    card.style.borderColor = adapt.color;
                    card.style.backgroundColor = 'white';
                }
            });
        }

        // –ù–∞—á–∞—Ç—å –∞–¥–∞–ø—Ç–∞—Ü–∏—é
        function startAdapting() {
            document.getElementById('adaptForm').scrollIntoView({ behavior: 'smooth' });
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
        async function adaptWithAI() {
            const text = document.getElementById('textInput').value.trim();
            const gradeLevel = document.getElementById('gradeLevel').value;
            const subject = document.getElementById('subject').value;
            
            if (!text) {
                showError('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏');
                return;
            }
            
            hideError();
            showLoading();
            
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò
                const adaptedText = await callRealAI(text, selectedAdaptation, gradeLevel, subject);
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                const suggestions = await generateAISuggestions(text, adaptedText);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
                showFullResult(text, adaptedText, suggestions);
                showNotification('‚úÖ –¢–µ–∫—Å—Ç —É—Å–ø–µ—à–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é!', 'success');
                
            } catch (error) {
                console.error('–ò–ò –æ—à–∏–±–∫–∞:', error);
                
                // –ï—Å–ª–∏ –ò–ò –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–º–Ω—É—é –∞–¥–∞–ø—Ç–∞—Ü–∏—é
                showNotification('‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º', 'warning');
                const adaptedText = generateSmartAdaptation(text, selectedAdaptation, gradeLevel, subject);
                const suggestions = generateSmartSuggestions(selectedAdaptation);
                showFullResult(text, adaptedText, suggestions);
                
            } finally {
                hideLoading();
            }
        }

        // –í—ã–∑–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–≥–æ OpenAI API
        async function callRealAI(text, adaptationType, gradeLevel, subject) {
            const systemPrompt = getAISystemPrompt(adaptationType, gradeLevel, subject);
            
            const response = await fetch(AI_CONFIG.endpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${SAFE_API_KEY}`
                },
                body: JSON.stringify({
                    model: AI_CONFIG.model,
                    messages: [
                        {
                            role: 'system',
                            content: systemPrompt + "\n\n–í–ê–ñ–ù–û: –ì–µ–Ω–µ—Ä–∏—Ä—É–π –ø–æ–ª–Ω—ã–π, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π —Ç–µ–∫—Å—Ç –±–µ–∑ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π."
                        },
                        {
                            role: 'user',
                            content: "–ê–¥–∞–ø—Ç–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é:\n\n" + text
                        }
                    ],
                    temperature: AI_CONFIG.temperature,
                    max_tokens: AI_CONFIG.maxTokens
                })
            });
            
            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.error?.message || '–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏');
            }
            
            const data = await response.json();
            return data.choices[0].message.content;
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –ò–ò
        function getAISystemPrompt(adaptationType, gradeLevel, subject) {
            const prompts = {
                simplified: `–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤. –°–æ–∑–¥–∞–π –ü–û–õ–ù–´–ô, –†–ê–ó–í–ï–†–ù–£–¢–´–ô –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è —É—á–µ–Ω–∏–∫–∞ ${gradeLevel} –∫–ª–∞—Å—Å–∞ —Å –¥–∏—Å–ª–µ–∫—Å–∏–µ–π.
–°–û–ë–õ–Æ–î–ê–ô –≠–¢–ò –ü–†–ê–í–ò–õ–ê:
1. –°–æ—Ö—Ä–∞–Ω–∏ –í–ï–°–¨ —Å–º—ã—Å–ª –∏ –í–°–ï –∫–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
2. –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞ –∏ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
3. –†–∞–∑–±–µ–π —Ç–µ–∫—Å—Ç –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞–±–∑–∞—Ü—ã
4. –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –≤—ã–¥–µ–ª–∏ **–∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º**
5. –û–±—ä—è—Å–Ω–∏ —Å–ª–æ–∂–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
6. –î–æ–±–∞–≤—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
7. –°–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –ü–û–õ–ù–´–ú –∏ –ó–ê–í–ï–†–®–ï–ù–ù–´–ú
8. –ù–µ —Å–æ–∫—Ä–∞—â–∞–π –∏ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

–ü—Ä–µ–¥–º–µ—Ç: ${subject}
–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –í–´–í–ï–î–ò –í–ï–°–¨ –¢–ï–ö–°–¢ –ü–û–õ–ù–û–°–¢–¨–Æ –ë–ï–ó –°–û–ö–†–ê–©–ï–ù–ò–ô`,

                structured: `–¢—ã —Å–æ–∑–¥–∞—ë—à—å –ü–û–õ–ù–´–ï –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ —Å –†–ê–°.
–°–û–ë–õ–Æ–î–ê–ô –≠–¢–ò –ü–†–ê–í–ò–õ–ê:
1. –†–∞–∑–±–µ–π –í–ï–°–¨ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∞–≥–∏
2. –ö–∞–∂–¥—ã–π —à–∞–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ö–û–ù–ö–†–ï–¢–ù–´–ú –∏ –ü–†–û–í–ï–†–Ø–ï–ú–´–ú
3. –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã (–Ω–∞–∂–º–∏, –≤—ã–±–µ—Ä–∏, –Ω–∞–ø–∏—à–∏)
4. –û–ø–∏—à–∏ –ö–ê–ñ–î–´–ô —ç—Ç–∞–ø –ü–û–î–†–û–ë–ù–û
5. –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π –Ω–∏ –æ–¥–Ω–æ–≥–æ –≤–∞–∂–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
6. –î–æ–±–∞–≤—å –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ –ø—É–Ω–∫—Ç—ã
7. –°–¥–µ–ª–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ü–û–õ–ù–û–ô –∏ –ò–°–ß–ï–†–ü–´–í–ê–Æ–©–ï–ô

–ö–ª–∞—Å—Å: ${gradeLevel}
–ü—Ä–µ–¥–º–µ—Ç: ${subject}
–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –í–´–í–ï–î–ò –í–°–Æ –ò–ù–°–¢–†–£–ö–¶–ò–Æ –ü–û–õ–ù–û–°–¢–¨–Æ`
            };
            
            return prompts[adaptationType] || prompts.simplified;
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å –ø–æ–º–æ—â—å—é –ò–ò
        async function generateAISuggestions(original, adapted) {
            try {
                const response = await fetch(AI_CONFIG.endpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${SAFE_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: AI_CONFIG.model,
                        messages: [
                            {
                                role: 'system',
                                content: '–î–∞–π 5 –†–ê–ó–í–ï–†–ù–£–¢–´–• –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–≤–µ—Ç–æ–≤ —É—á–∏—Ç–µ–ª—é –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –ö–∞–∂–¥—ã–π —Å–æ–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–º –∏ –ø–æ–ª–µ–∑–Ω—ã–º.'
                            },
                            {
                                role: 'user',
                                content: `–¢–∏–ø –∞–¥–∞–ø—Ç–∞—Ü–∏–∏: ${adaptations[selectedAdaptation].name}\n\n–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (–ø–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤): ${adapted.substring(0, 500)}...`
                            }
                        ],
                        temperature: 0.5,
                        max_tokens: 500
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const text = data.choices[0].message.content;
                    
                    // –ü–∞—Ä—Å–∏–º —Å–æ–≤–µ—Ç—ã
                    const suggestions = text.split('\n')
                        .filter(line => line.trim() && (line.match(/^\d+[\)\.]/) || line.includes('‚Ä¢') || line.includes('-')))
                        .map(line => line.replace(/^\d+[\)\.]\s*/, '').replace(/^[‚Ä¢\-]\s*/, '').trim())
                        .filter(line => line.length > 10)
                        .slice(0, 5);
                    
                    return suggestions.length > 0 ? suggestions : generateSmartSuggestions(selectedAdaptation);
                }
            } catch (error) {
                console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ò–ò');
            }
            
            return generateSmartSuggestions(selectedAdaptation);
        }

        // –£–º–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è (–µ—Å–ª–∏ –ò–ò –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
        function generateSmartAdaptation(text, adaptationType, gradeLevel, subject) {
            const adapt = adaptations[adaptationType];
            let result = `=== –ü–û–õ–ù–´–ô –ê–î–ê–ü–¢–ò–†–û–í–ê–ù–ù–´–ô –ú–ê–¢–ï–†–ò–ê–õ ===\n\n`;
            result += `–¢–ò–ü –ê–î–ê–ü–¢–ê–¶–ò–ò: ${adapt.name}\n`;
            result += `–ö–õ–ê–°–°: ${gradeLevel}\n`;
            result += `–ü–†–ï–î–ú–ï–¢: ${subject}\n`;
            result += `–î–ê–¢–ê –°–û–ó–î–ê–ù–ò–Ø: ${new Date().toLocaleDateString()}\n\n`;
            result += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n`;
            
            // –†–∞–∑–±–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
            const sentences = text.split(/[.!?]+/).filter(s => s.trim());
            
            switch(adaptationType) {
                case 'simplified':
                    result += `–û–°–ù–û–í–ù–´–ï –ü–û–ù–Ø–¢–ò–Ø (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç):\n\n`;
                    sentences.forEach((sentence, i) => {
                        if (i < 10) { // –û–≥—Ä–∞–Ω–∏—á–∏–º –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
                            const words = sentence.trim().split(' ');
                            const simplified = words.slice(0, 10).join(' ');
                            result += `${i + 1}. ${simplified}${words.length > 10 ? '...' : ''}\n\n`;
                        }
                    });
                    result += `\nüí° –ö–õ–Æ–ß–ï–í–ê–Ø –ò–î–ï–Ø: ${sentences[0]?.substring(0, 150) || text.substring(0, 150)}\n\n`;
                    result += `üìù –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –°–û–í–ï–¢: –û–±—Å—É–¥–∏—Ç–µ —ç—Ç–æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª —Å —É—á–µ–Ω–∏–∫–æ–º, –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ.\n`;
                    break;
                    
                case 'structured':
                    result += `–ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø:\n\n`;
                    sentences.slice(0, 8).forEach((sentence, i) => {
                        result += `–®–ê–ì ${i + 1}:\n`;
                        result += `${sentence.trim()}\n\n`;
                    });
                    result += `‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê:\n`;
                    result += `1. –í—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã?\n`;
                    result += `2. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º?\n`;
                    result += `3. –ï—Å—Ç—å –ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏?\n\n`;
                    break;
                    
                default:
                    result += text;
            }
            
            result += `\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
            result += `üë©‚Äçüè´ –î–õ–Ø –£–ß–ò–¢–ï–õ–Ø: –≠—Ç–æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –∏–ª–∏ –≥—Ä—É–ø–ø–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã.\n`;
            result += `‚è±Ô∏è –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–û–ï –í–†–ï–ú–Ø: 20-30 –º–∏–Ω—É—Ç\n`;
            
            return result;
        }

        // –£–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
        function generateSmartSuggestions(adaptationType) {
            const suggestionsMap = {
                simplified: [
                    "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç (Arial 14-16pt) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∏–ª–∏ –ø—Ä–∏ –ø–µ—á–∞—Ç–∏",
                    "–ü—Ä–æ–≥–æ–≤–∞—Ä–∏–≤–∞–π—Ç–µ —Ç–µ–∫—Å—Ç –≤—Å–ª—É—Ö –≤–º–µ—Å—Ç–µ —Å —É—á–µ–Ω–∏–∫–æ–º, –¥–µ–ª–∞—è –ø–∞—É–∑—ã –º–µ–∂–¥—É –∞–±–∑–∞—Ü–∞–º–∏",
                    "–†–∞–∑–¥–µ–ª–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–Ω—è—Ç–∏–π, –¥–æ–±–∞–≤–ª—è—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–æ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ",
                    "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–≤–µ—Ç–æ–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏ –≤–∞–∂–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π",
                    "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —É—á–µ–Ω–∏–∫—É –ø–µ—Ä–µ—Å–∫–∞–∑–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª —Å–≤–æ–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è"
                ],
                structured: [
                    "–†–∞—Å–ø–µ—á–∞—Ç–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∏ —Ä–∞–∑—Ä–µ–∂—å—Ç–µ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏-—à–∞–≥–∏ –¥–ª—è —Ç–∞–∫—Ç–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã",
                    "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã (–≥–∞–ª–æ—á–∫–∏, —Å–º–∞–π–ª–∏–∫–∏) –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤",
                    "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–∞–π–º–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å —É—á–µ–Ω–∏–∫—É —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–µ–º",
                    "–°–æ–∑–¥–∞–π—Ç–µ —á–µ–∫-–ª–∏—Å—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤",
                    "–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ–¥–∏—Ç–µ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é: —á—Ç–æ –±—ã–ª–æ –ª–µ–≥–∫–æ, —á—Ç–æ —Å–ª–æ–∂–Ω–æ"
                ]
            };
            
            return suggestionsMap[adaptationType] || suggestionsMap.simplified;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
        function showFullResult(original, adapted, suggestions) {
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é
            const originalElement = document.getElementById('originalText');
            originalElement.innerHTML = formatTextForDisplay(original);
            document.getElementById('originalStats').textContent = getTextStats(original);
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é
            const adaptedElement = document.getElementById('adaptedText');
            adaptedElement.innerHTML = formatTextForDisplay(adapted);
            document.getElementById('adaptedStats').textContent = getTextStats(adapted);
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–∏–ø –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
            document.getElementById('resultTypeBadge').textContent = adaptations[selectedAdaptation].name;
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            const suggestionsList = document.getElementById('suggestionsList');
            suggestionsList.innerHTML = '';
            suggestions.forEach((suggestion, index) => {
                const item = document.createElement('div');
                item.className = 'alert alert-light mb-3';
                item.innerHTML = `
                    <div class="d-flex">
                        <div class="me-3">
                            <span class="badge bg-primary rounded-circle" style="width: 25px; height: 25px; display: flex; align-items: center; justify-content: center;">
                                ${index + 1}
                            </span>
                        </div>
                        <div class="flex-grow-1">
                            ${suggestion}
                        </div>
                    </div>
                `;
                suggestionsList.appendChild(item);
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            document.getElementById('resultSection').style.display = 'block';
            
            // –ü–ª–∞–≤–Ω–æ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
            setTimeout(() => {
                document.getElementById('resultSection').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 300);
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        function formatTextForDisplay(text) {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
            let formatted = text.replace(/\n/g, '<br>');
            
            // –í—ã–¥–µ–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
            formatted = formatted.replace(/^(=== .+ ===)$/gm, '<strong class="text-primary">$1</strong>');
            formatted = formatted.replace(/^(–®–ê–ì \d+:)/gm, '<strong class="text-success">$1</strong>');
            formatted = formatted.replace(/^(\d+\.)/gm, '<strong>$1</strong>');
            
            // –í—ã–¥–µ–ª—è–µ–º –∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å **)
            formatted = formatted.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤
            if (!text.includes('\n') && text.length > 100) {
                const sentences = text.split(/[.!?]+/);
                formatted = sentences.filter(s => s.trim()).map(s => `<p>${s.trim()}.</p>`).join('');
            }
            
            return formatted;
        }

        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–∫—Å—Ç–∞
        function getTextStats(text) {
            const chars = text.length;
            const words = text.split(/\s+/).filter(w => w.length > 0).length;
            const lines = text.split('\n').filter(l => l.trim()).length;
            
            return `${words} —Å–ª–æ–≤, ${chars} —Å–∏–º–≤–æ–ª–æ–≤, ${lines} —Å—Ç—Ä–æ–∫`;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–º–µ—Ä–∞
        function loadExample(exampleKey) {
            if (examples[exampleKey]) {
                document.getElementById('textInput').value = examples[exampleKey].text;
                document.getElementById('subject').value = examples[exampleKey].subject;
                
                document.getElementById('adaptForm').scrollIntoView({ behavior: 'smooth' });
                showNotification(`üìö –ó–∞–≥—Ä—É–∂–µ–Ω –ø—Ä–∏–º–µ—Ä: "${exampleKey}"`, 'info');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–ª–∏–Ω–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
        function loadLongExample() {
            document.getElementById('textInput').value = longExample;
            document.getElementById('subject').value = '–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞';
            document.getElementById('gradeLevel').value = '7-9';
            
            document.getElementById('adaptForm').scrollIntoView({ behavior: 'smooth' });
            showNotification('üìñ –ó–∞–≥—Ä—É–∂–µ–Ω –¥–ª–∏–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'info');
        }

        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
        function copyText(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent || element.innerText;
            
            navigator.clipboard.writeText(text).then(() => {
                showNotification(`‚úÖ –¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!`, 'success');
            }).catch(err => {
                showNotification('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç', 'error');
            });
        }

        // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–∞–∫ —Ñ–∞–π–ª
        function downloadAsText() {
            const adaptedElement = document.getElementById('adaptedText');
            const text = adaptedElement.textContent || adaptedElement.innerText;
            const type = adaptations[selectedAdaptation].name;
            const date = new Date().toISOString().split('T')[0];
            const filename = `–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-${type}-${date}.txt`;
            
            const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification(`üíæ –§–∞–π–ª "${filename}" —Å–∫–∞—á–∞–Ω!`, 'success');
        }

        // –ü–µ—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        function printResult() {
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                <head>
                    <title>–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª</title>
                    <style>
                        body { font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; }
                        h1 { color: #333; }
                        .original { background: #f5f5f5; padding: 15px; margin: 15px 0; border-left: 4px solid #ccc; }
                        .adapted { background: #e8f5e9; padding: 15px; margin: 15px 0; border-left: 4px solid #43e97b; }
                        .suggestions { background: #e3f2fd; padding: 15px; margin: 15px 0; }
                        @media print {
                            .no-print { display: none; }
                        }
                    </style>
                </head>
                <body>
                    <h1>–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É—á–µ–±–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª</h1>
                    <p><strong>–¢–∏–ø –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:</strong> ${adaptations[selectedAdaptation].name}</p>
                    <p><strong>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</strong> ${new Date().toLocaleDateString()}</p>
                    
                    <h2>–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç</h2>
                    <div class="original">${document.getElementById('originalText').innerHTML}</div>
                    
                    <h2>–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</h2>
                    <div class="adapted">${document.getElementById('adaptedText').innerHTML}</div>
                    
                    <h2>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É—á–∏—Ç–µ–ª—è</h2>
                    <div class="suggestions">${document.getElementById('suggestionsList').innerHTML}</div>
                    
                    <div class="no-print">
                        <button onclick="window.print()">–†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å</button>
                        <button onclick="window.close()">–ó–∞–∫—Ä—ã—Ç—å</button>
                    </div>
                </body>
                </html>
            `);
            printWindow.document.close();
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
            document.getElementById('buttonText').innerHTML = '<span class="spinner"></span> –û–±—Ä–∞–±–æ—Ç–∫–∞...';
            document.getElementById('adaptButton').disabled = true;
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
            document.getElementById('buttonText').textContent = '–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª';
            document.getElementById('adaptButton').disabled = false;
        }

        function showError(message) {
            document.getElementById('errorMessage').textContent = message;
            document.getElementById('adaptError').style.display = 'block';
        }

        function hideError() {
            document.getElementById('adaptError').style.display = 'none';
        }

        function showNotification(message, type) {
            const alertClass = type === 'success' ? 'alert-success' : 
                              type === 'error' ? 'alert-danger' : 
                              type === 'warning' ? 'alert-warning' : 'alert-info';
            
            const notification = document.createElement('div');
            notification.className = `alert ${alertClass} alert-dismissible position-fixed`;
            notification.style.cssText = `
                top: 20px;
                right: 20px;
                z-index: 1000;
                min-width: 300px;
                max-width: 400px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            `;
            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 4000);
        }
    </script>
</body>
</html>